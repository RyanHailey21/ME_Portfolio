---
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const projects = [
    {
      title: 'Autobalancing TouchScreen Platform',
      description: 'Developed A Raspberry Pi based PWM and PID controller for a self-balancing platform',
      image: 'https://images.pexels.com/photos/7775638/pexels-photo-7775638.jpeg',
      tags: ['Code', 'CAD'],
      slug: 'autobalancing-platform',
      fullDescription: `
        This project set out to automaticaly balance a ball bearning on a touch screen platform. The hardware for the project was an ADAFRUIT resistive touchscren, TSC2070 I2C Touch Screen Controler, two HS-311 servo motors, Raspberry Pi RP20240 microcontroller, and custom made platform and base.
        
        To control the system behavior, a PID controller implemented using c code was flashed onto the memory of the microcontroller. Ultimately the code successfully ran and the system was built successfully.
      `,
      technologies: ['C', 'I2C', 'PWM','Microcontroller', 'Solidworks','3D pringting'],
      githubUrl: 'https://github.com/RyanHailey21/MAE3185',
      
    },
  ];

  return projects.map(project => ({
    params: { slug: project.slug },
    props: { project }
  }));
}

const { project } = Astro.props;
---

<Layout title={`${project.title} | Portfolio`}>
  <main class="container mx-auto px-4 py-8">
    <a href="/projects" class="inline-flex items-center text-portfolio-blue hover:text-portfolio-purple mb-6">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L4.414 9H17a1 1 0 110 2H4.414l5.293 5.293a1 1 0 010 1.414z" clip-rule="evenodd" />
      </svg>
      Back to Projects
    </a>

    <article class="bg-dark-card rounded-lg shadow-lg overflow-hidden">
      <img src={project.image} alt={project.title} class="w-full h-96 object-cover" />
      
      <div class="p-8">
        <h1 class="text-4xl font-bold mb-4 bg-gradient-portfolio text-transparent bg-clip-text">
          {project.title}
        </h1>

        <div class="flex flex-wrap gap-2 mb-6">
          {project.tags.map((tag: string) => (
            <span class="px-3 py-1 text-sm rounded-full bg-gradient-portfolio text-white">
              {tag}
            </span>
          ))}
        </div>

        <div class="prose prose-invert max-w-none">
          <p class="text-gray-300 mb-6">{project.fullDescription}</p>

          <h2 class="text-2xl font-semibold mb-4 text-gray-100">Technologies Used</h2>
          <ul class="list-disc list-inside mb-6 text-gray-300">
            {project.technologies.map((tech: string) => (
              <li>{tech}</li>
            ))}
          </ul>

          <div class="flex gap-4">
            {project.githubUrl && (
              <a
                href={project.githubUrl}
                target="_blank"
                rel="noopener noreferrer"
                class="inline-block px-6 py-3 bg-gradient-portfolio text-white rounded-lg hover:opacity-90 transition-opacity"
              >
                View on GitHub
              </a>
            )}
          </div>
        </div>
      </div>
    </article>
  </main>
</Layout>